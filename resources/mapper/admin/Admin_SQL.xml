<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="admin">
	
	<select id="selectMemberList" resultType="hashmap">
		<![CDATA[
			SELECT * FROM MEMBER
		]]>
	</select>
	
	<update id="updateRating" parameterType="hashmap">
		UPDATE MEMBER 
		<if test="flag=='up'">
			SET PMS='관리자', MOD_IP=#{ip}, MOD_DATE=SYSDATE WHERE MEM_NO=#{no}
		</if>
		<if test="flag=='down'">
			SET PMS='회원', MOD_IP=#{ip}, MOD_DATE=SYSDATE WHERE MEM_NO=#{no}
		</if>
	</update>
	
	<select id="selectMemberInfo" parameterType="Integer" resultType="hashmap">
		<![CDATA[
			SELECT * FROM MEMBER WHERE MEM_NO=#{no}
		]]>
	</select>
	
	<update id="updateMember" parameterType="first.shopping.admin.bean.MemberBean">
		UPDATE MEMBER SET NAME=#{name},PASSWORD=#{password},ADDRESS=#{address},PHONE=#{phone},EMAIL=#{email},
									  GENDER=#{gender},BIRTHDAY=#{birthday},MOD_IP=#{mod_ip},MOD_DATE=SYSDATE
								WHERE MEM_NO=#{mem_no}
	</update>
	
</mapper>

